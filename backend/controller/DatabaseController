import { Context } from "hono";

interface DBreturn {
	message: string;
	stauscode: number;
}

export default function DatabaseResultController(
	c: Context,
	db_return: unknown | Error | undefined,
	resolve: DBreturn | any,
	error: DBreturn,
	empty?: DBreturn,
) {
	if ((empty !== undefined) && (db_return == undefined)) {
		new Response();
		return c.json({ message: empty.message }, empty.stauscode as any);
	}
	if ((db_return instanceof Error)) {
		console.log(db_return);
		return c.json({ message: error.message }, error.stauscode as any);
	}
	if (Object.keys(resolve).includes("message")) {
		return c.json({ message: resolve.message }, resolve.stauscode as any);
	}
	return c.json(resolve);
}
